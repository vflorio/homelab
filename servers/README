# HomeLab Servers Deployment

## Prerequisites 
(da root)

```bash
ansible-playbook -i inventory/main.ini playbooks/install-docker.yml -e "hosts=servers"
```

## Manual Sync
```bash
rsync -avz --progress --delete --mkpath ./servers/gateway/ vflorio@gateway.intranet.vflorio.com:~/gateway/
rsync -avz --progress --delete --mkpath ./servers/management/ vflorio@management.intranet.vflorio.com:~/management/
rsync -avz --progress --delete --mkpath ./servers/media/ vflorio@media.intranet.vflorio.com:~/media/
rsync -avz --progress --delete --mkpath ./servers/dev/ vflorio@dev.intranet.vflorio.com:~/dev/
rsync -avz --progress --delete --mkpath ./servers/cloud/ vflorio@cloud.intranet.vflorio.com:~/cloud/
```

ssh vflorio@gateway.intranet.vflorio.com "cd ~/gateway && ./start.sh"
ssh vflorio@management.intranet.vflorio.com "cd ~/management && ./start.sh"
ssh vflorio@media.intranet.vflorio.com "cd ~/media && ./start.sh"
ssh vflorio@dev.intranet.vflorio.com "cd ~/dev && ./start.sh"
ssh vflorio@cloud.intranet.vflorio.com "cd ~/cloud && ./start.sh"

ssh vflorio@gateway.intranet.vflorio.com "cd ~/gateway && docker compose down"
ssh vflorio@management.intranet.vflorio.com "cd ~/management && docker compose down"
ssh vflorio@media.intranet.vflorio.com "cd ~/media && docker compose down"
ssh vflorio@dev.intranet.vflorio.com "cd ~/dev && docker compose down"
ssh vflorio@cloud.intranet.vflorio.com "cd ~/cloud && docker compose down"